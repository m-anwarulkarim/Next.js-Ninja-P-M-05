```ts
export async function getUserById(id: string) {
  const data = await fetch(`https://...`, {
    next: {
      tags: ["user"],
    },
  });
}
```

এক কথায় বললে: এই কোডটির কাজ হলো **ডাটা ক্যাশ (Cache) করা এবং তাকে একটি "নাম" বা "ট্যাগ" দিয়ে চিহ্নিত করে রাখা।**

একেবারে সহজ ৩টি পয়েন্টে এর কাজ বুঝে নিন:

১. **লেবেল লাগানো (Tagging):** আপনি যখন API থেকে ডেটা আনছেন, তখন `tags: ['user']` লিখে ওই ডেটার গায়ে একটা **'user'** নামের স্টিকার লাগিয়ে দিলেন।

২. **মেমোরিতে রাখা (Caching):** Next.js এই ডেটা একবার এনে তার মেমোরিতে (Cache) জমা করে রাখবে। এর ফলে পরের বার যখন কেউ একই ইউজারের প্রোফাইল দেখতে চাইবে, Next.js আর মেইন সার্ভারে যাবে না, নিজের মেমোরি থেকে দ্রুত ডেটা দেখিয়ে দেবে।

৩. **রিমোট কন্ট্রোল রিফ্রেশ (On-demand Revalidation):** এখন ধরুন ডাটাবেসে ইউজারের নাম বদলে গেছে। তখন আপনি কোডের অন্য যেকোনো জায়গা থেকে (যেমন: Server Action বা API Route) শুধু বলবেন `revalidateTag('user')`। সাথে সাথে Next.js ওই 'user' ট্যাগ লাগানো সব ডেটা মেমোরি থেকে মুছে ফেলে নতুন ডেটা নিয়ে আসবে।

**কেন এটা করবেন?**
যাতে আপনার ওয়েবসাইট **সুপার ফাস্ট** থাকে (ক্যাশিং-এর কারণে), আবার যখনই ডেটা চেঞ্জ হবে তখনই যেন ইউজার **লেটেস্ট আপডেট** দেখতে পায় (ট্যাগ দিয়ে রিফ্রেশ করার কারণে)।

---

## \*\*উদাহরণ :

একদম পানির মতো পরিষ্কার একটা উদাহরণ মনে করুন আপনার একটি **E-commerce** সাইট আছে। সেখানে একটি ফোনের দাম দেওয়া আছে।

### ১. ডেটা ফেচ করা (ট্যাগ দিয়ে রাখা)

আপনি যখন ফোনের ডিটেইলস দেখাচ্ছেন, তখন আপনি `product` নামে একটা ট্যাগ দিয়ে রাখলেন।

```typescript
// app/product/[id]/page.tsx
export async function getProduct(id: string) {
  const res = await fetch(`https://api.example.com/products/${id}`, {
    next: {
      tags: ["product"], // এখানে 'product' হলো আপনার দেওয়া নাম বা ট্যাগ
    },
  });
  return res.json();
}
```

**এখন কী হলো?** Next.js এই ফোনের ডেটাটা ক্যাশ (Cache) করে ফেলল। এখন ১০০০ জন ইউজার এই পেজে আসলেও Next.js আর API কল করবে না, জমানো ডেটা থেকে দ্রুত পেজ দেখাবে।

---

### ২. ডেটা আপডেট করা (ট্যাগ ব্যবহার করে ক্যাশ মোছা)

এখন ধরুন, ফোনের দাম ৫০০ টাকা কমে গেছে। আপনি আপনার অ্যাডমিন প্যানেল থেকে দাম আপডেট করলেন। কিন্তু ইউজাররা তো আগের জমানো (Cache) পুরানো দামটাই দেখছে।

তখন আপনি আপনার **Admin Action** বা অন্য কোনো ফাংশনে নিচের এই কাজটি করবেন:

```typescript
// app/admin/actions.ts
import { revalidateTag } from "next/cache";

async function updatePrice() {
  // ১. এখানে আপনি ডাটাবেসে দাম আপডেট করলেন
  // await db.products.update(...)

  // ২. এখন Next.js-কে জমানো ক্যাশ ডিলিট করতে বলছেন
  revalidateTag("product");
}
```

### ৩. ফলাফল (ম্যাজিক)

আপনি যেই মুহূর্তে `revalidateTag('product')` লাইনটা চালালেন:

- Next.js দেখবে কোন কোন জায়গায় `product` ট্যাগটা ছিল।
- সে ওই সব জায়গার পুরানো ডেটা মেমোরি থেকে **মুছে ফেলবে**।
- এরপর যখনই কোনো ইউজার পেজটি রিফ্রেশ করবে, সে একদম **নতুন আপডেট করা দাম** দেখতে পাবে।

---

### সংক্ষেপে পুরো সারমর্ম:

- **`tags: ['user']`** = ডেটার গায়ে একটা স্টিকার লাগানো যাতে পরে তাকে চেনা যায়।
- **`revalidateTag('user')`** = ওই স্টিকার লাগানো সব ডেটা মেমোরি থেকে ঝেটিয়ে বিদায় করা যাতে নতুন ডেটা আসতে পারে।
