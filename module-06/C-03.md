# Next.js এ useRouter Hook - সম্পূর্ণ গাইড

`useRouter` হল Next.js এর একটি React Hook যা আপনাকে programmatically routing এবং navigation control করতে দেয়।

## Import করা

```javascript
import { useRouter } from "next/router";
```

## মূল বৈশিষ্ট্য এবং ব্যবহার

### 1. **Basic Setup**

```javascript
function MyComponent() {
  const router = useRouter();
  // এখন router object ব্যবহার করতে পারবেন
}
```

### 2. **Navigation Methods**

#### router.push()

নতুন page এ navigate করার জন্য:

```javascript
// সাধারণ navigation
router.push("/about");

// query parameters সহ
router.push("/products?category=electronics");

// object আকারে
router.push({
  pathname: "/products",
  query: { category: "electronics", sort: "price" },
});
```

#### router.replace()

Browser history তে নতুন entry না যোগ করে navigate:

```javascript
router.replace("/login");
```

#### router.back()

আগের page এ ফিরে যাওয়া:

```javascript
router.back();
```

#### router.reload()

Current page reload করা:

```javascript
router.reload();
```

### 3. **Route Information Access**

#### pathname

Current route path পাওয়া:

```javascript
console.log(router.pathname); // '/products'
```

#### query

URL query parameters এবং dynamic route parameters:

```javascript
// URL: /products?category=electronics
console.log(router.query.category); // 'electronics'

// Dynamic route: /posts/[id].js
// URL: /posts/123
console.log(router.query.id); // '123'
```

#### asPath

Browser এ যে exact URL দেখা যাচ্ছে:

```javascript
console.log(router.asPath); // '/products?category=electronics'
```

### 4. **Route Events**

Page transition এর সময় events listen করা:

```javascript
useEffect(() => {
  const handleRouteChange = (url) => {
    console.log("Page changing to:", url);
  };

  router.events.on("routeChangeStart", handleRouteChange);
  router.events.on("routeChangeComplete", handleRouteChange);
  router.events.on("routeChangeError", handleRouteChange);

  return () => {
    router.events.off("routeChangeStart", handleRouteChange);
    router.events.off("routeChangeComplete", handleRouteChange);
    router.events.off("routeChangeError", handleRouteChange);
  };
}, [router]);
```

### 5. **Practical Example**

```javascript
import { useRouter } from "next/router";
import { useState } from "react";

function ProductPage() {
  const router = useRouter();
  const [loading, setLoading] = useState(false);

  // Query থেকে data পাওয়া
  const { id, category } = router.query;

  // Programmatic navigation
  const handleNavigate = () => {
    router.push("/cart");
  };

  // Conditional navigation
  const handleCheckout = async () => {
    setLoading(true);
    const response = await processOrder();

    if (response.success) {
      router.push("/success");
    } else {
      router.push("/error");
    }
    setLoading(false);
  };

  // Query update করা (shallow routing)
  const updateFilter = (filter) => {
    router.push(
      {
        pathname: router.pathname,
        query: { ...router.query, filter },
      },
      undefined,
      { shallow: true },
    );
  };

  return (
    <div>
      <h1>Product ID: {id}</h1>
      <p>Category: {category}</p>
      <button onClick={handleNavigate}>Go to Cart</button>
      <button onClick={handleCheckout}>Checkout</button>
    </div>
  );
}
```

## গুরুত্বপূর্ণ বিষয়

1. **Client-side only**: `useRouter` শুধুমাত্র client-side components এ কাজ করে
2. **React Hook rules**: Component এর top level এ ব্যবহার করতে হবে
3. **Query params**: Initial render এ `router.query` খালি থাকতে পারে, তাই conditional rendering প্রয়োজন
4. **Shallow routing**: Page reload ছাড়াই URL update করার জন্য `{ shallow: true }` option ব্যবহার করুন

এই hook টি Next.js application এ dynamic navigation এবং routing control এর জন্য অত্যন্ত শক্তিশালী একটি tool।
