Role-based Sidebar рждрзИрж░рж┐рж░ ржЬржирзНржп **Parallel Route** ржПржХржЯрж┐ ржжрж╛рж░рзБржг рж╕ржорж╛ржзрж╛ржиред ржХрж╛рж░ржг ржПрждрзЗ ржорзВрж▓ ржХржирзНржЯрзЗржирзНржЯ ржПржмржВ рж╕рж╛ржЗржбржмрж╛рж░ рж╕ржорзНржкрзВрж░рзНржг ржЖрж▓рж╛ржжрж╛ржнрж╛ржмрзЗ ржорзНржпрж╛ржирзЗржЬ ржХрж░рж╛ ржпрж╛рзЯ ржПржмржВ ржХрзЛржб ржЕржирзЗржХ ржХрзНрж▓рж┐ржи ржерж╛ржХрзЗред

ржирж┐ржЪрзЗ ржПржХржЯрж┐ ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг ржжрж┐рзЯрзЗ ржмрж┐рж╖рзЯржЯрж┐ ржмрзБржЭрж┐рзЯрзЗ ржмрж▓ржЫрж┐:

### ржжрзГрж╢рзНржпржкржЯ (Scenario)

ржЖржкржирж╛рж░ ржПржХржЯрж┐ ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб ржЖржЫрзЗ ржпрзЗржЦрж╛ржирзЗ ржжрзБржЗ ржзрж░ржгрзЗрж░ ржЗржЙржЬрж╛рж░ ржЖржЫрзЗ:

1. **Admin:** рждрж┐ржирж┐ ржжрзЗржЦржмрзЗржи `AdminSidebar` (ржпрж╛рждрзЗ User Management, Reports ржерж╛ржХрзЗ)ред
2. **User:** рждрж┐ржирж┐ ржжрзЗржЦржмрзЗржи `UserSidebar` (ржпрж╛рждрзЗ Profile, My Tasks ржерж╛ржХрзЗ)ред

---

### рзз. ржлрзЛрж▓рзНржбрж╛рж░ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░

ржЖржорж░рж╛ ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржбрзЗрж░ ржнрзЗрждрж░рзЗ ржжрзБржЯрж┐ рж╕рзНрж▓ржЯ рждрзИрж░рж┐ ржХрж░ржм: `@admin` ржПржмржВ `@user`ред

```text
app/
тФФтФАтФА dashboard/
    тФЬтФАтФА layout.tsx
    тФЬтФАтФА page.tsx
    тФЬтФАтФА @admin/
    тФВ   тФФтФАтФА page.tsx (Admin ржПрж░ рж╕рж╛ржЗржбржмрж╛рж░ ржХржирзНржЯрзЗржирзНржЯ)
    тФЬтФАтФА @user/
    тФВ   тФФтФАтФА page.tsx (рж╕рж╛ржзрж╛рж░ржг ржЗржЙржЬрж╛рж░ ржПрж░ рж╕рж╛ржЗржбржмрж╛рж░ ржХржирзНржЯрзЗржирзНржЯ)
    тФФтФАтФА default.tsx

```

---

### рзи. рж▓рзЗржЖржЙржЯ ржлрж╛ржЗрж▓ (Role Logic)

`layout.tsx` ржлрж╛ржЗрж▓рзЗ ржЖржорж░рж╛ ржЗржЙржЬрж╛рж░рзЗрж░ рж░рзЛрж▓ ржЪрзЗржХ ржХрж░ржм ржПржмржВ рж╕рзЗржЗ ржЕржирзБржпрж╛рзЯрзА рж╕ржарж┐ржХ рж╕рзНрж▓ржЯржЯрж┐ рж░рзЗржирзНржбрж╛рж░ ржХрж░ржмред

```tsx
// app/dashboard/layout.tsx
import { getUserRole } from "@/lib/auth"; // ржзрж░рзЗ ржирж┐ржи ржПржЯрж┐ ржЖржкржирж╛рж░ рж░рзЛрж▓ ржЪрзЗржХ ржХрж░рж╛рж░ ржлрж╛ржВрж╢ржи

export default async function DashboardLayout({
  children,
  admin,
  user,
}: {
  children: React.ReactNode;
  admin: React.ReactNode;
  user: React.ReactNode;
}) {
  const role = await getUserRole(); // 'admin' ржЕржержмрж╛ 'user' ржЖрж╕ржмрзЗ

  return (
    <div className="flex min-h-screen">
      {/* Sidebar Section */}
      <aside className="w-64 bg-gray-100 border-r">
        {role === "admin" ? admin : user}
      </aside>

      {/* Main Content Section */}
      <main className="flex-1 p-8">{children}</main>
    </div>
  );
}
```

---

### рзй. ржЕрзНржпрж╛ржбржорж┐ржи ржУ ржЗржЙржЬрж╛рж░ рж╕рж╛ржЗржбржмрж╛рж░ рждрзИрж░рж┐

**Admin Sidebar (@admin/page.tsx):**

```tsx
export default function AdminSidebar() {
  return (
    <nav className="p-4">
      <h2 className="font-bold border-b mb-4">Admin Panel</h2>
      <ul>
        <li>Dashboard</li>
        <li>Manage Users</li>
        <li>System Logs</li>
      </ul>
    </nav>
  );
}
```

**User Sidebar (@user/page.tsx):**

```tsx
export default function UserSidebar() {
  return (
    <nav className="p-4">
      <h2 className="font-bold border-b mb-4">User Menu</h2>
      <ul>
        <li>My Profile</li>
        <li>Active Tasks</li>
        <li>Settings</li>
      </ul>
    </nav>
  );
}
```

---

### ржХрзЗржи ржПржЯрж┐ рж╕рзЗрж░рж╛ ржкржжрзНржзрждрж┐? (Benefits)

1. **Separation of Concerns:** ржЕрзНржпрж╛ржбржорж┐ржи рж╕рж╛ржЗржбржмрж╛рж░рзЗрж░ ржХрзЛржб ржЖрж▓рж╛ржжрж╛ ржПржмржВ ржЗржЙржЬрж╛рж░рзЗрж░ржЯрж╛ ржЖрж▓рж╛ржжрж╛ред ржЖржкржирж╛ржХрзЗ ржПржХржЗ ржлрж╛ржЗрж▓рзЗ ржЕржирзЗржХ ржмрзЗрж╢рж┐ `if-else` рж▓рж┐ржЦрждрзЗ рж╣ржмрзЗ ржирж╛ред
2. **Independent Loading:** ржпржжрж┐ ржЕрзНржпрж╛ржбржорж┐ржи ржкрзНржпрж╛ржирзЗрж▓рзЗрж░ ржбрзЗржЯрж╛ рж▓рзЛржб рж╣рждрзЗ рж╕ржорзЯ рж▓рж╛ржЧрзЗ, рждржмрзЗ ржЖржкржирж┐ `@admin/loading.tsx` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рж╢рзБржзрзБ рж╕рж╛ржЗржбржмрж╛рж░рзЗ ржПржХржЯрж┐ рж╕рзНржХрзЗрж▓рж┐ржЯржи рж▓рзЛржбрж╛рж░ ржжрзЗржЦрж╛рждрзЗ ржкрж╛рж░рзЗржи, ржорзВрж▓ ржХржирзНржЯрзЗржирзНржЯ (children) ржПрждрзЗ ржЗржлрзЗржХрзНржЯ рж╣ржмрзЗ ржирж╛ред
3. **Security:** рж▓рзЗржЖржЙржЯ рж▓рзЗржнрзЗрж▓рзЗ ржЪрзЗржХ ржХрж░рж╛рж░ ржХрж╛рж░ржгрзЗ ржнрзБрж▓ ржХрж░рзЗ ржПржХржЬржи ржЗржЙржЬрж╛рж░ ржЕржирзНржпржЬржирзЗрж░ рж╕рж╛ржЗржбржмрж╛рж░ ржжрзЗржЦрж╛рж░ рж╕ржорзНржнрж╛ржмржирж╛ ржХржо ржерж╛ржХрзЗред

### тЪая╕П ржПржХржЯрж┐ ржЫрзЛржЯ ржЯрж┐ржкрж╕:

ржпржжрж┐ ржЖржкржирж┐ ржЪрж╛ржи ржпрзЗ рж╕рж╛ржЗржбржмрж╛рж░ржЯрж┐ рж╢рзБржзрзБржорж╛рждрзНрж░ ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржбрзЗрж░ ржорзВрж▓ ржкрзЗржЬрзЗ ржерж╛ржХржмрзЗ ржХрж┐ржирзНрждрзБ ржЕржирзНржп рж╕рж╛ржм-ржкрзЗржЬрзЗ ржерж╛ржХржмрзЗ ржирж╛, рждржЦржи ржЖржкржирж┐ `@admin/default.tsx` ржлрж╛ржЗрж▓рзЗ `null` рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред

<!-- ================================== -->

Parallel Routes ржмрзНржпржмрж╣рж╛рж░рзЗрж░ рж╕ржорзЯ ржХрж┐ржЫрзБ ржЬржЯрж┐рж▓ ржЯрзЗржХржирж┐ржХрзНржпрж╛рж▓ ржЪрзНржпрж╛рж▓рзЗржЮрзНржЬ ржмрж╛ рж╕ржорж╕рзНржпрж╛рж░ рж╕ржорзНржорзБржЦрзАржи рж╣рждрзЗ рж╣рзЯред ржПржЧрзБрж▓рзЛ ржирж╛ ржЬрж╛ржирж▓рзЗ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржирзЗ ржЕржжрзНржнрзБржд рж╕ржм ржПрж░рж░ (Bugs) ржжрзЗржЦрж╛ ржжрж┐рждрзЗ ржкрж╛рж░рзЗред ржирж┐ржЪрзЗ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд рж╕ржорж╕рзНржпрж╛ржЧрзБрж▓рзЛ рждрзБрж▓рзЗ ржзрж░рж╛ рж╣рж▓рзЛ:

---

### рзз. `default.tsx` ржлрж╛ржЗрж▓ ржирж╛ ржерж╛ржХрж╛рж░ рж╕ржорж╕рзНржпрж╛ (The 404 Error)

ржПржЯрж┐ Parallel Route-ржПрж░ рж╕ржмржЪрзЗрзЯрзЗ ржХржоржи рж╕ржорж╕рзНржпрж╛ред Next.js ржпржЦржи ржмрзБржЭрждрзЗ ржкрж╛рж░рзЗ ржирж╛ ржпрзЗ ржПржХржЯрж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж╕рзНрж▓ржЯрзЗ (Slot) ржмрж░рзНрждржорж╛ржирзЗ ржХрзА рж░рзЗржирзНржбрж╛рж░ ржХрж░рж╛ ржЙржЪрж┐ржд, рждржЦржи рж╕рзЗ `default.tsx` ржлрж╛ржЗрж▓ржЯрж┐ ржЦрзЛржБржЬрзЗред

- **рж╕ржорж╕рзНржпрж╛:** ржЖржкржирж┐ ржпржжрж┐ ржХрзЛржирзЛ рж╕рзНрж▓ржЯрзЗрж░ ржЬржирзНржп `default.tsx` ржлрж╛ржЗрж▓ ржирж╛ рж░рж╛ржЦрзЗржи, рждржмрзЗ рж╣рж╛рж░рзНржб рж░рж┐ржлрзНрж░рзЗрж╢ (F5) ржжрж┐рж▓рзЗ ржмрж╛ рж╕рж░рж╛рж╕рж░рж┐ ржУржЗ URL-ржП ржкрзНрж░ржмрзЗрж╢ ржХрж░рж▓рзЗ ржкрзБрж░рзЛ ржкрзЗржЬржЯрж┐ **404 Not Found** ржжрзЗржЦрж╛ржмрзЗред
- **ржХрзЗржи рж╣рзЯ:** рж╕ржлржЯ ржирзЗржнрж┐ржЧрзЗрж╢ржирзЗрж░ рж╕ржорзЯ Next.js ржЖржЧрзЗрж░ рж╕рзНржЯрзЗржЯ ржоржирзЗ рж░рж╛ржЦрзЗ, ржХрж┐ржирзНрждрзБ рж╣рж╛рж░рзНржб рж░рж┐ржлрзНрж░рзЗрж╢ ржжрж┐рж▓рзЗ рж╕рзЗ ржЖржЧрзЗрж░ рж╕рзНрж▓ржЯрзЗрж░ ржХржирзНржЯрзЗржирзНржЯ ржЦрзБржБржЬрзЗ ржкрж╛рзЯ ржирж╛ред

### рзи. Navigation-ржПрж░ ржмрж┐ржнрзНрж░рж╛ржирзНрждрж┐ (State Mismatch)

ржзрж░рж╛ ржпрж╛ржХ ржЖржкржирж╛рж░ ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржбрзЗ ржжрзБржЯрж┐ рж╕рзНрж▓ржЯ ржЖржЫрзЗ: `@analytics` ржПржмржВ `@team`ред

- **рж╕ржорж╕рзНржпрж╛:** ржЖржкржирж┐ ржпржжрж┐ рж╢рзБржзрзБ `@analytics` рж╕рзНрж▓ржЯрзЗрж░ ржнрзЗрждрж░рзЗрж░ ржХрзЛржирзЛ рж▓рж┐ржЩрзНржХрзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзЗ ржирзЗржнрж┐ржЧрзЗржЯ ржХрж░рзЗржи, рждрж╛рж╣рж▓рзЗ `@team` рж╕рзНрж▓ржЯржЯрж┐рждрзЗ ржХрзА ржжрзЗржЦрж╛ржмрзЗ?
- **ржлрж▓рж╛ржлрж▓:** ржпржжрж┐ ржЖржкржирж┐ `@team` ржПрж░ ржЬржирзНржп ржирждрзБржи ржХрзЛржирзЛ ржкрзЗржЬ ржирж╛ рждрзИрж░рж┐ ржХрж░рзЗ ржерж╛ржХрзЗржи, рждржмрзЗ ржмрзНрж░рж╛ржЙржЬрж╛рж░ рж░рж┐ржлрзНрж░рзЗрж╢ ржжрж┐рж▓рзЗ `@team` ржЕржВрж╢ржЯрж┐ рж╣рж╛рж░рж┐рзЯрзЗ ржпрж╛ржмрзЗ ржпржжрж┐ рж╕рзЗржЦрж╛ржирзЗ `default.tsx` ржирж╛ ржерж╛ржХрзЗред ржПржЯрж┐ ржЗржЙржЬрж╛рж░ ржПржХрзНрж╕ржкрзЗрж░рж┐рзЯрзЗржирзНрж╕ ржирж╖рзНржЯ ржХрж░рзЗред

### рзй. Client-side State рж╣рж╛рж░рж╛ржирзЛ

Parallel Routes рж╕рж╛ржзрж╛рж░ржгржд ржПржХржЗ рж▓рзЗржЖржЙржЯрзЗ ржПржХрж╛ржзрж┐ржХ ржкрзЗржЬ рж░рзЗржирзНржбрж╛рж░ ржХрж░рзЗред

- **рж╕ржорж╕рзНржпрж╛:** ржЖржкржирж┐ ржпржжрж┐ ржПржХ рж╕рзНрж▓ржЯ ржерзЗржХрзЗ ржЕржирзНржп рж╕рзНрж▓ржЯрзЗ ржбрзЗржЯрж╛ ржкрж╛рж╕ ржХрж░рждрзЗ ржЪрж╛ржи, рждржмрзЗ ржПржЯрж┐ рж╕рж╛ржзрж╛рж░ржг Props ржПрж░ ржорж╛ржзрзНржпржорзЗ рж╕ржорзНржнржм ржирзЯред ржХрж╛рж░ржг рждрж╛рж░рж╛ ржнрж╛ржЗ-ржмрзЛржи (Siblings) рж╣рж┐рж╕рзЗржмрзЗ ржерж╛ржХрзЗред
- **рж╕ржорж╛ржзрж╛ржи:** ржПржХрзНрж╖рзЗрждрзНрж░рзЗ ржЖржкржирж╛ржХрзЗ **Context API** ржмрж╛ **Zustand/Redux** ржПрж░ ржорждрзЛ рж╕рзНржЯрзЗржЯ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ ржЯрзБрж▓ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╣ржмрзЗред

### рзк. Modals ржПржмржВ Refresh-ржПрж░ рж╕ржорж╕рзНржпрж╛ (Intercepting Routes)

ржЖржкржирж┐ ржпржЦржи ржоржбрж╛рж▓ рж╣рж┐рж╕рзЗржмрзЗ Parallel Route ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗржи (ржпрзЗржоржиржЯрж┐ ржЖржЧрзЗрж░ ржЙржжрж╛рж╣рж░ржгрзЗ ржжрзЗржЦрзЗржЫрж┐):

- **рж╕ржорж╕рзНржпрж╛:** ржЗржЙржЬрж╛рж░ ржпржЦржи ржоржбрж╛рж▓ ржУржкрзЗржи ржерж╛ржХрж╛ ржЕржмрж╕рзНржерж╛рзЯ ржкрзЗржЬ рж░рж┐ржлрзНрж░рзЗрж╢ ржжрзЗрзЯ, рждржЦржи ржЖрж░ ржоржбрж╛рж▓ржЯрж┐ ржерж╛ржХрзЗ ржирж╛ред рждржЦржи рж╕рзЗ рж╕рж░рж╛рж╕рж░рж┐ ржорзВрж▓ ржкрзЗржЬржЯрж┐рждрзЗ (`app/photo/[id]/page.tsx`) ржЪрж▓рзЗ ржпрж╛рзЯред
- **ржХрзЗржи рж╕ржорж╕рзНржпрж╛:** ржЕржирзЗржХ рж╕ржорзЯ ржбрзЗржнрзЗрж▓ржкрж╛рж░рж░рж╛ ржЪрж╛ржи рж░рж┐ржлрзНрж░рзЗрж╢ ржжрж┐рж▓рзЗржУ ржоржбрж╛рж▓ржЯрж┐ ржерж╛ржХрзБржХ, ржХрж┐ржирзНрждрзБ Parallel Route ржПржХрж╛ ржПржЯрж┐ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рждрзЗ ржкрж╛рж░рзЗ ржирж╛ред ржПрж░ ржЬржирзНржп **Intercepting Routes** (`(..)folderName`) ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╣рзЯред

### рзл. Static Site Generation (SSG) ржП рж╕рзАржорж╛ржмржжрзНржзрждрж╛

- **рж╕ржорж╕рзНржпрж╛:** ржпржжрж┐ ржЖржкржирж╛рж░ ржХрзЛржирзЛ ржПржХржЯрж┐ рж╕рзНрж▓ржЯ Dynamic рж╣рзЯ (ржпрзЗржоржи: ржЗржЙржЬрж╛рж░рзЗрж░ ржбрзЗржЯрж╛ ржжрзЗржЦрж╛рзЯ), рждржмрзЗ ржкрзБрж░рзЛ ржкрзЗржЬржЯрж┐ржХрзЗржЗ Dynamic рж░рзЗржирзНржбрж╛рж░рж┐ржВрзЯрзЗ ржкрж╛ржарж╛рждрзЗ рж╣рждрзЗ ржкрж╛рж░рзЗред ржПрж░ ржлрж▓рзЗ рж╕рзНржЯрзНржпрж╛ржЯрж┐ржХ ржЬрзЗржирж╛рж░рзЗрж╢ржирзЗрж░ рж╕рзБржмрж┐ржзрж╛ рж╕ржм рж╕ржорзЯ ржкрзБрж░рзЛржкрзБрж░рж┐ ржирзЗржУрзЯрж╛ ржпрж╛рзЯ ржирж╛ред

### рзм. ржХржоржкрзНрж▓рзЗржХрзНрж╕ рж▓рзЗржЖржЙржЯ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ

- **рж╕ржорж╕рзНржпрж╛:** ржпржЦржи ржЖржкржирж╛рж░ ржЕржирзЗржХржЧрзБрж▓рзЛ рж╕рзНрж▓ржЯ рж╣рзЯрзЗ ржпрж╛рзЯ (ржпрзЗржоржи: `@sidebar`, `@header`, `@footer`, `@feed`, `@ads`), рждржЦржи `layout.tsx` ржлрж╛ржЗрж▓ржЯрж┐ ржЕржирзЗржХ ржмрзЬ ржПржмржВ ржЬржЯрж┐рж▓ рж╣рзЯрзЗ ржпрж╛рзЯред ржкрзНрж░рждрж┐ржЯрж╛ рж╕рзНрж▓ржЯрзЗрж░ ржЬржирзНржп ржЖрж▓рж╛ржжрж╛ ржЖрж▓рж╛ржжрж╛ `loading.tsx` ржПржмржВ `error.tsx` ржорзНржпрж╛ржирзЗржЬ ржХрж░рж╛ ржбрзЗржнрзЗрж▓ржкрж╛рж░ржжрзЗрж░ ржЬржирзНржп ржХрж╖рзНржЯрж╕рж╛ржзрзНржп рж╣рждрзЗ ржкрж╛рж░рзЗред

---

### ЁЯТб ржПржЗ рж╕ржорж╕рзНржпрж╛ржЧрзБрж▓рзЛ рж╕ржорж╛ржзрж╛ржирзЗрж░ рж╕рж╣ржЬ ржЙржкрж╛рзЯ:

| рж╕ржорж╕рзНржпрж╛                  | рж╕ржорж╛ржзрж╛ржи                                                                                     |
| ----------------------- | ------------------------------------------------------------------------------------------ |
| **404 Error**           | рж╕ржм рж╕ржорзЯ ржкрзНрж░рждрж┐ржЯрж╛ рж╕рзНрж▓ржЯ ржлрзЛрж▓рзНржбрж╛рж░рзЗ ржПржХржЯрж┐ `default.tsx` ржлрж╛ржЗрж▓ рж░рж╛ржЦрзБржиред                                |
| **Data Sharing**        | рж╕рзНрж▓ржЯржЧрзБрж▓рзЛрж░ ржоржзрзНржпрзЗ ржбрзЗржЯрж╛ рж╢рзЗрзЯрж╛рж░ ржХрж░рждрзЗ Context API ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржиред                                  |
| **Modal Sync**          | Parallel Route-ржПрж░ рж╕рж╛ржерзЗ Intercepting Routes ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржиред                                   |
| **Independent Loading** | ржкрзНрж░рждрж┐ржЯрж┐ рж╕рзНрж▓ржЯрзЗрж░ ржнрзЗрждрж░рзЗ ржЖрж▓рж╛ржжрж╛ `loading.tsx` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржи ржпрж╛рждрзЗ ржПржХржЯрж┐рж░ ржЬржирзНржп ржЕржирзНржпржЯрж┐ ржЖржЯржХрзЗ ржирж╛ ржерж╛ржХрзЗред |
