Next.js-‡¶è‡¶∞ **Middleware/Proxy** ‡¶Æ‡ßÇ‡¶≤‡¶§ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ó‡ßá‡¶ü‡¶ì‡¶Ø‡¶º‡ßá ‡¶¨‡¶æ ‡¶¶‡¶æ‡¶∞‡ßã‡¶Ø‡¶º‡¶æ‡¶®‡ßá‡¶∞ ‡¶Æ‡¶§‡ßã ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá‡•§ ‡¶è‡¶ü‡¶ø ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡ßá‡¶∞ ‡¶∞‡¶ø‡¶ï‡ßã‡¶Ø‡¶º‡ßá‡¶∏‡ßç‡¶ü ‡¶è‡¶¨‡¶Ç ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßá‡¶ú ‡¶≤‡ßã‡¶° ‡¶π‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶†‡¶ø‡¶ï ‡¶Æ‡¶æ‡¶ù‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶® ‡¶ï‡¶∞‡ßá‡•§

‡¶®‡¶ø‡¶ö‡ßá ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶ü‡¶™‡¶ø‡¶ï ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§‡¶≠‡¶æ‡¶¨‡ßá ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶≤‡ßã:

---

## ‚úÖ Next.js Middleware/Proxy ‚Äì ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ñ‡ßç‡¶Ø‡¶æ

### 1Ô∏è‚É£ Request ‡¶Ü‡¶∏‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßá‡¶á Code ‡¶ö‡¶æ‡¶≤‡¶æ‡¶®‡ßã

‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£‡¶§ ‡¶ï‡ßã‡¶®‡ßã ‡¶™‡ßá‡¶ú‡ßá ‡¶ó‡ßá‡¶≤‡ßá ‡¶∏‡ßá‡¶á ‡¶™‡ßá‡¶ú‡ßá‡¶∞ ‡¶ï‡ßã‡¶° ‡¶∞‡¶æ‡¶® ‡¶ï‡¶∞‡ßá‡•§ ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ Middleware-‡¶è‡¶∞ ‡¶ï‡¶æ‡¶ú ‡¶π‡¶≤‡ßã ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶™‡ßá‡¶ú‡¶ü‡¶ø ‡¶¶‡ßá‡¶ñ‡¶æ‡¶∞ **‡¶Ü‡¶ó‡ßá** ‡¶ï‡ßã‡¶° ‡¶ö‡¶æ‡¶≤‡¶æ‡¶®‡ßã‡•§ ‡¶è‡¶ü‡¶ø ‡¶á‡¶®‡¶ï‡¶æ‡¶Æ‡¶ø‡¶Ç ‡¶∞‡¶ø‡¶ï‡ßã‡¶Ø‡¶º‡ßá‡¶∏‡ßç‡¶ü‡¶ï‡ßá ‡¶Æ‡¶æ‡¶ù‡¶™‡¶•‡ßá ‡¶Ü‡¶ü‡¶ï‡ßá ‡¶¶‡ßá‡ßü (Intercept ‡¶ï‡¶∞‡ßá) ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶ø‡¶¶‡ßç‡¶ß‡¶æ‡¶®‡ßç‡¶§ ‡¶®‡ßá‡ßü ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡¶ï‡ßá ‡¶™‡ßá‡¶ú‡¶ü‡¶ø ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã ‡¶π‡¶¨‡ßá ‡¶ï‡¶ø ‡¶®‡¶æ‡•§

- ‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡ßá‡¶∏‡¶ø‡¶ï ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£ ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶æ ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü ‡¶Ü‡¶∏‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶∏‡¶æ‡¶•‡ßá ‡¶ï‡¶®‡¶∏‡ßã‡¶≤‡ßá ‡¶ü‡¶æ‡¶á‡¶Æ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶Æ‡ßç‡¶™ ‡¶è‡¶¨‡¶Ç ‡¶á‡¶â‡¶Ü‡¶∞‡¶è‡¶≤ ‡¶™‡ßç‡¶∞‡¶ø‡¶®‡ßç‡¶ü ‡¶π‡¶¨‡ßá‡•§

```typescript
import { NextResponse } from "next/server";
import type { NextRequest } from "next/server";

export function middleware(request: NextRequest) {
  // ‡¶™‡ßá‡¶ú ‡¶≤‡ßã‡¶° ‡¶π‡¶ì‡ßü‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßá‡¶á ‡¶è‡¶á ‡¶≤‡¶ú‡¶ø‡¶ï‡¶ü‡¶ø ‡¶ö‡¶≤‡¶¨‡ßá
  console.log(
    `Request received at: ${new Date().toISOString()} for ${request.url}`,
  );

  return NextResponse.next(); //next() ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü‡¶ü‡¶ø‡¶ï‡ßá ‡¶∏‡¶æ‡¶Æ‡¶®‡ßá ‡¶Ø‡ßá‡¶§‡ßá ‡¶¶‡¶ø‡¶¨‡ßá
}
```

### 2Ô∏è‚É£ Conditional Redirect (‡¶∂‡¶∞‡ßç‡¶§‡¶∏‡¶æ‡¶™‡ßá‡¶ï‡ßç‡¶∑ Redirect)

Middleware-‡¶è‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶≤‡¶ú‡¶ø‡¶ï ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®‡•§ ‡¶Ø‡ßá‡¶Æ‡¶®: ‡¶Ø‡¶¶‡¶ø ‡¶ï‡ßã‡¶®‡ßã ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ `/dashboard`-‡¶è ‡¶Ø‡ßá‡¶§‡ßá ‡¶ö‡¶æ‡ßü ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ ‡¶∏‡ßá ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡¶æ ‡¶®‡ßá‡¶á (Cookie ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßá), ‡¶§‡¶¨‡ßá ‡¶§‡¶æ‡¶ï‡ßá ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø `/login` ‡¶™‡ßá‡¶ú‡ßá ‡¶™‡¶æ‡¶†‡¶ø‡ßü‡ßá ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶π‡¶¨‡ßá‡•§ ‡¶è‡¶ü‡¶ø ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞-‡¶∏‡¶æ‡¶á‡¶°‡ßá‡¶á ‡¶ò‡¶ü‡ßá, ‡¶§‡¶æ‡¶á ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶ï‡ßã‡¶®‡ßã ‡¶≠‡ßÅ‡¶≤ ‡¶™‡ßá‡¶ú ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡ßü ‡¶®‡¶æ‡•§

```typescript
export function middleware(request: NextRequest) {
  const token = request.cookies.get("auth-token");

  // ‡¶Ø‡¶¶‡¶ø ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶°‡ßç‡¶Ø‡¶æ‡¶∂‡¶¨‡ßã‡¶∞‡ßç‡¶°‡ßá ‡¶Ø‡ßá‡¶§‡ßá ‡¶ö‡¶æ‡ßü ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ ‡¶ü‡ßã‡¶ï‡ßá‡¶® ‡¶®‡¶æ ‡¶•‡¶æ‡¶ï‡ßá
  if (request.nextUrl.pathname.startsWith("/dashboard") && !token) {
    return NextResponse.redirect(new URL("/login", request.url));
  }
}
```

**‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡ßá‡¶∞ ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞‡ßá `auth-token` ‡¶®‡¶æ‡¶Æ‡¶ï ‡¶ï‡ßã‡¶®‡ßã ‡¶ï‡ßÅ‡¶ï‡¶ø ‡¶Ü‡¶õ‡ßá ‡¶ï‡¶ø ‡¶®‡¶æ‡•§ ‡¶®‡¶æ ‡¶•‡¶æ‡¶ï‡¶≤‡ßá ‡¶§‡¶æ‡¶ï‡ßá ‡¶≤‡¶ó‡¶á‡¶® ‡¶™‡ßá‡¶ú‡ßá ‡¶™‡¶æ‡¶†‡¶ø‡ßü‡ßá ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶π‡¶¨‡ßá‡•§**

### 3Ô∏è‚É£ Rewrite (URL ‡¶¨‡¶¶‡¶≤‡¶æ‡¶®‡ßã, ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ browser-‡¶è ‡¶®‡¶æ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã)

‡¶è‡¶ü‡¶ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ö‡¶Æ‡ßé‡¶ï‡¶æ‡¶∞ ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞‡•§ Redirect ‡¶ï‡¶∞‡¶≤‡ßá ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞‡ßá‡¶∞ URL ‡¶¨‡¶¶‡¶≤‡ßá ‡¶Ø‡¶æ‡ßü, ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ Rewrite ‡¶ï‡¶∞‡¶≤‡ßá URL ‡¶è‡¶ï‡¶á ‡¶•‡¶æ‡¶ï‡ßá ‡¶Ö‡¶•‡¶ö ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶è‡¶®‡ßç‡¶°‡ßá ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶™‡ßá‡¶ú‡ßá‡¶∞ ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã ‡¶π‡ßü‡•§

- **‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞:** ‡¶ß‡¶∞‡ßÅ‡¶® ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶§‡ßÅ‡¶® ‡¶è‡¶ï‡¶ü‡¶æ ‡¶™‡ßá‡¶ú `/about-v2` ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßá‡¶õ‡ßá‡¶®‡•§ ‡¶Ü‡¶™‡¶®‡¶ø ‡¶ö‡¶æ‡¶® ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ `/about` ‡¶≤‡¶ø‡¶ñ‡¶≤‡ßá‡¶á ‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡ßá‡¶ú ‡¶¶‡ßá‡¶ñ‡¶¨‡ßá ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ URL-‡¶è `/about` ‡¶á ‡¶•‡¶æ‡¶ï‡¶¨‡ßá‡•§ ‡¶è‡¶ü‡¶ø SEO-‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ñ‡ßÅ‡¶¨ ‡¶ï‡¶æ‡¶∞‡ßç‡¶Ø‡¶ï‡¶∞‡•§

```typescript
export function middleware(request: NextRequest) {
  if (request.nextUrl.pathname === "/about") {
    // ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞‡ßá URL /about ‡¶•‡¶æ‡¶ï‡¶¨‡ßá, ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶Ü‡¶∏‡¶¨‡ßá /about-v2 ‡¶•‡ßá‡¶ï‡ßá
    return NextResponse.rewrite(new URL("/about-v2", request.url));
  }
}
```

‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞‡ßá ‡¶¶‡ßá‡¶ñ‡¶¨‡ßá `/about`, ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶è‡¶®‡ßç‡¶°‡ßá ‡¶∏‡ßá ‡¶Ü‡¶∏‡¶≤‡ßá `/about-v2` ‡¶™‡ßá‡¶ú‡ßá‡¶∞ ‡¶°‡¶æ‡¶ü‡¶æ ‡¶¶‡ßá‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶¨‡ßá‡•§ ‡¶è‡¶ü‡¶ø A/B Testing-‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø‡¶ì ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡ßÉ‡¶§ ‡¶π‡ßü‡•§

### 4Ô∏è‚É£ Permission-based Page Blocking

‡¶è‡¶ü‡¶ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶π‡¶æ‡¶≤‡¶ï‡¶æ ‡¶ì‡¶ú‡¶®‡ßá‡¶∞ ‡¶∏‡¶ø‡¶ï‡¶ø‡¶â‡¶∞‡¶ø‡¶ü‡¶ø ‡¶≤‡ßá‡¶Ø‡¶º‡¶æ‡¶∞‡•§ ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡ßá‡¶∞ 'Role' (‡¶Ø‡ßá‡¶Æ‡¶®: Admin, User, Guest) ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßá ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶™‡¶æ‡¶• ‡¶¨‡¶æ ‡¶á‡¶â‡¶Ü‡¶∞‡¶è‡¶≤ ‡¶¨‡ßç‡¶≤‡¶ï ‡¶ï‡¶∞‡ßá ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡•§ ‡¶§‡¶¨‡ßá ‡¶Æ‡¶®‡ßá ‡¶∞‡¶æ‡¶ñ‡¶¨‡ßá‡¶®, ‡¶è‡¶ü‡¶ø ‡¶ñ‡ßÅ‡¶¨ ‡¶≠‡¶æ‡¶∞‡ßÄ ‡¶°‡¶æ‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ ‡¶ö‡ßá‡¶ï‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶®‡ßü‡•§

```typescript
export function middleware(request: NextRequest) {
  const userRole = request.cookies.get("user-role")?.value;

  if (request.nextUrl.pathname.startsWith("/admin") && userRole !== "admin") {
    // ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶¨‡¶æ ‡¶è‡¶∞‡¶∞ ‡¶™‡ßá‡¶ú ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã
    return new NextResponse(
      "Access Denied: You do not have admin permissions",
      { status: 403 },
    );
  }
}
```

- ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶ï‡ßÅ‡¶ï‡¶ø ‡¶•‡ßá‡¶ï‡ßá ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡ßá‡¶∞ ‡¶∞‡ßã‡¶≤ (Role) ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá‡•§ ‡¶Ø‡¶¶‡¶ø ‡¶∏‡ßá `admin` ‡¶®‡¶æ ‡¶π‡ßü ‡¶§‡¶¨‡ßá ‡¶§‡¶æ‡¶ï‡ßá ‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶∏ ‡¶°‡¶ø‡¶®‡¶æ‡¶á ‡¶ï‡¶∞‡¶æ ‡¶π‡¶¨‡ßá‡•§

### 5Ô∏è‚É£ Matcher ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü Route-‡¶è ‡¶ö‡¶æ‡¶≤‡¶æ‡¶®‡ßã

Middleware ‡¶Ø‡ßá‡¶® ‡¶∏‡¶¨ ‡¶´‡¶æ‡¶á‡¶≤‡ßá (‡¶Ø‡ßá‡¶Æ‡¶®: ‡¶õ‡¶¨‡¶ø, ‡¶∏‡¶ø‡¶è‡¶∏‡¶è‡¶∏) ‡¶®‡¶æ ‡¶ö‡¶≤‡ßá ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü ‡¶™‡ßá‡¶ú‡ßá ‡¶ö‡¶≤‡ßá, ‡¶∏‡ßá‡¶ú‡¶®‡ßç‡¶Ø `config.matcher` ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡•§ ‡¶è‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶∏ ‡¶≠‡¶æ‡¶≤‡ßã ‡¶•‡¶æ‡¶ï‡ßá ‡¶ï‡¶æ‡¶∞‡¶£ ‡¶Ö‡¶™‡ßç‡¶∞‡ßü‡ßã‡¶ú‡¶®‡ßÄ‡ßü ‡¶ú‡¶æ‡ßü‡¶ó‡¶æ‡ßü ‡¶ï‡ßã‡¶° ‡¶∞‡¶æ‡¶® ‡¶π‡ßü ‡¶®‡¶æ‡•§

```typescript
export const config = {
  matcher: [
    /*
     * ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶™‡¶æ‡¶•‡¶ó‡ßÅ‡¶≤‡ßã ‡¶¨‡¶æ‡¶¶‡ßá ‡¶∏‡¶¨ ‡¶ú‡¶æ‡ßü‡¶ó‡¶æ‡ßü ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶¨‡ßá:
     * - api (API routes)
     * - _next/static (static files)
     * - _next/image (image optimization files)
     * - favicon.ico (favicon file)
     */
    "/((?!api|_next/static|_next/image|favicon.ico).*)",

    // ‡¶Ö‡¶•‡¶¨‡¶æ ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü ‡¶™‡¶æ‡¶•‡ßá ‡¶ö‡¶æ‡¶≤‡¶æ‡¶§‡ßá ‡¶ö‡¶æ‡¶á‡¶≤‡ßá:
    // '/dashboard/:path*',
    // '/admin/:path*',
  ],
};
```

- ‡¶Æ‡¶ø‡¶°‡¶≤‡¶ì‡ßü‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶´‡¶æ‡¶á‡¶≤‡¶ü‡¶ø‡¶∞ ‡¶è‡¶ï‡ßá‡¶¨‡¶æ‡¶∞‡ßá ‡¶®‡¶ø‡¶ö‡ßá ‡¶è‡¶á ‡¶ï‡¶®‡¶´‡¶ø‡¶ó ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶≤‡ßá ‡¶è‡¶ü‡¶ø ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü ‡¶™‡¶æ‡¶•‡¶ó‡ßÅ‡¶≤‡ßã‡¶§‡ßá ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶¨‡ßá‡•§ ‡¶è‡¶ü‡¶ø ‡¶™‡¶æ‡¶∞‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶∏ ‡¶Ö‡¶™‡ßç‡¶ü‡¶ø‡¶Æ‡¶æ‡¶á‡¶ú‡ßá‡¶∂‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ú‡¶∞‡ßÅ‡¶∞‡¶ø‡•§

### 6Ô∏è‚É£Request Header Modify ‡¶ï‡¶∞‡¶æ

‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡ßá‡¶∞ ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞ ‡¶•‡ßá‡¶ï‡ßá ‡¶Ü‡¶∏‡¶æ ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶Ö‡¶§‡¶ø‡¶∞‡¶ø‡¶ï‡ßç‡¶§ ‡¶§‡¶•‡ßç‡¶Ø ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®‡•§ ‡¶Ø‡ßá‡¶Æ‡¶®: ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡ßá‡¶∞ IP ‡¶¶‡ßá‡¶ñ‡ßá ‡¶§‡¶æ‡¶∞ ‡¶¶‡ßá‡¶∂ ‡¶¨‡ßá‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü‡ßá `x-country: BD` ‡¶π‡ßá‡¶°‡¶æ‡¶∞ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßá ‡¶¶‡¶ø‡¶≤‡ßá‡¶®‡•§ ‡¶è‡¶§‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Æ‡ßá‡¶á‡¶® ‡¶™‡ßá‡¶ú ‡¶¨‡¶æ API ‡¶∏‡¶π‡¶ú‡ßá‡¶á ‡¶¨‡ßÅ‡¶ù‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶ï‡ßã‡¶•‡¶æ‡¶ï‡¶æ‡¶∞‡•§

‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ ‡¶¨‡¶æ API-‡¶§‡ßá ‡¶°‡ßá‡¶ü‡¶æ ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã‡¶∞ ‡¶Ü‡¶ó‡ßá ‡¶®‡¶§‡ßÅ‡¶® ‡¶π‡ßá‡¶°‡¶æ‡¶∞ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ‡•§

```typescript
export function middleware(request: NextRequest) {
  // ‡ßß. ‡¶®‡¶§‡ßÅ‡¶® ‡¶π‡ßá‡¶°‡¶æ‡¶∞ ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ
  const requestHeaders = new Headers(request.headers);
  requestHeaders.set("x-hello-from-middleware", "hello");

  // ‡ß®. ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡ßá‡¶∞ ‡¶ï‡¶æ‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶ø ‡¶π‡ßá‡¶°‡¶æ‡¶∞ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ (Vercel-‡¶è ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá)
  const country = request.geo?.country || "US";
  requestHeaders.set("x-user-country", country);

  return NextResponse.next({
    request: {
      headers: requestHeaders,
    },
  });
}
```

### 7Ô∏è‚É£Response Header Modify ‡¶ï‡¶∞‡¶æ

‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ ‡¶•‡ßá‡¶ï‡ßá ‡¶Ø‡¶ñ‡¶® ‡¶°‡ßá‡¶ü‡¶æ ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡ßá‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá ‡¶Ø‡¶æ‡ßü, ‡¶§‡¶ñ‡¶® ‡¶Ü‡¶™‡¶®‡¶ø ‡¶§‡¶æ‡¶§‡ßá ‡¶∏‡¶ø‡¶ï‡¶ø‡¶â‡¶∞‡¶ø‡¶ü‡¶ø ‡¶π‡ßá‡¶°‡¶æ‡¶∞ (‡¶Ø‡ßá‡¶Æ‡¶®: `Content-Security-Policy`) ‡¶¨‡¶æ ‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ ‡¶Æ‡ßá‡¶ü‡¶æ‡¶°‡ßá‡¶ü‡¶æ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®‡•§ ‡¶è‡¶ü‡¶ø ‡¶™‡ßÅ‡¶∞‡ßã ‡¶∏‡¶æ‡¶á‡¶ü‡ßá‡¶∞ ‡¶∏‡¶ø‡¶ï‡¶ø‡¶â‡¶∞‡¶ø‡¶ü‡¶ø ‡¶è‡¶ï ‡¶ú‡¶æ‡ßü‡¶ó‡¶æ ‡¶•‡ßá‡¶ï‡ßá ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤ ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶æ‡¶π‡¶æ‡¶Ø‡ßç‡¶Ø ‡¶ï‡¶∞‡ßá‡•§

‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞‡ßá ‡¶∞‡ßá‡¶∏‡¶™‡¶®‡ßç‡¶∏ ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã‡¶∞ ‡¶∏‡¶Æ‡ßü ‡¶∏‡¶ø‡¶ï‡¶ø‡¶â‡¶∞‡¶ø‡¶ü‡¶ø ‡¶¨‡¶æ ‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ ‡¶π‡ßá‡¶°‡¶æ‡¶∞ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ‡•§

```typescript
export function middleware(request: NextRequest) {
  const response = NextResponse.next();

  // ‡¶∏‡¶ø‡¶ï‡¶ø‡¶â‡¶∞‡¶ø‡¶ü‡¶ø ‡¶π‡ßá‡¶°‡¶æ‡¶∞ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ
  response.headers.set("X-Frame-Options", "DENY");
  response.headers.set("Content-Security-Policy", "default-src 'self'");

  return response;
}
```

### 8Ô∏è‚É£ A/B Testing & Experiment Control

‡¶Ü‡¶™‡¶®‡¶ø ‡¶ö‡¶æ‡¶á‡¶≤‡ßá ‡ß´‡ß¶% ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡¶ï‡ßá ‡¶è‡¶ï ‡¶∞‡¶ï‡¶Æ ‡¶°‡¶ø‡¶ú‡¶æ‡¶á‡¶® ‡¶è‡¶¨‡¶Ç ‡¶¨‡¶æ‡¶ï‡¶ø ‡ß´‡ß¶% ‡¶ï‡ßá ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶∞‡¶ï‡¶Æ ‡¶°‡¶ø‡¶ú‡¶æ‡¶á‡¶® ‡¶¶‡ßá‡¶ñ‡¶æ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®‡•§ Middleware ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶¨‡ßá ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡ßá‡¶∞ ‡¶ï‡ßÅ‡¶ï‡¶ø‡¶§‡ßá ‡¶ï‡ßã‡¶®‡ßã 'bucket' ‡¶Ü‡¶á‡¶°‡¶ø ‡¶Ü‡¶õ‡ßá ‡¶ï‡¶ø ‡¶®‡¶æ, ‡¶®‡¶æ ‡¶•‡¶æ‡¶ï‡¶≤‡ßá ‡¶è‡¶∏‡¶æ‡¶á‡¶® ‡¶ï‡¶∞‡¶¨‡ßá ‡¶è‡¶¨‡¶Ç ‡¶∏‡ßá‡¶á ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡ßü‡ßÄ Rewrite ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶≤‡¶æ‡¶¶‡¶æ ‡¶≠‡¶æ‡¶∞‡ßç‡¶∏‡¶® ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßá‡•§

‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡¶ï‡ßá ‡¶¶‡ßÅ‡¶ü‡¶ø ‡¶Ü‡¶≤‡¶æ‡¶¶‡¶æ ‡¶≠‡¶æ‡¶∞‡ßç‡¶∏‡¶® (Bucket A ‡¶¨‡¶æ B) ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã‡•§

```typescript
export function middleware(request: NextRequest) {
  let bucket = request.cookies.get("experiment-bucket")?.value;

  if (!bucket) {
    // ‡ß´‡ß¶-‡ß´‡ß¶ ‡¶ö‡¶æ‡¶®‡ßç‡¶∏‡ßá ‡¶¨‡¶æ‡¶ï‡ßá‡¶ü ‡¶è‡¶∏‡¶æ‡¶á‡¶® ‡¶ï‡¶∞‡¶æ
    bucket = Math.random() < 0.5 ? "a" : "b";
  }

  const res = NextResponse.rewrite(new URL(`/variant-${bucket}`, request.url));

  // ‡¶ï‡ßÅ‡¶ï‡¶ø‡¶§‡ßá ‡¶¨‡¶æ‡¶ï‡ßá‡¶ü ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡ßá ‡¶∞‡¶æ‡¶ñ‡¶æ ‡¶Ø‡ßá‡¶® ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶™‡¶∞‡ßá ‡¶Ü‡¶∏‡¶≤‡ßá ‡¶è‡¶ï‡¶á ‡¶°‡¶ø‡¶ú‡¶æ‡¶á‡¶® ‡¶¶‡ßá‡¶ñ‡ßá
  if (!request.cookies.has("experiment-bucket")) {
    res.cookies.set("experiment-bucket", bucket);
  }

  return res;
}
```

### 9Ô∏è‚É£ Geo / Device / Browser Based Logic

Next.js-‡¶è‡¶∞ `NextRequest` ‡¶Ö‡¶¨‡¶ú‡ßá‡¶ï‡ßç‡¶ü ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡¶π‡¶ú‡ßá‡¶á ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡ßá‡¶∞ ‡¶≠‡ßå‡¶ó‡ßã‡¶≤‡¶ø‡¶ï ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ‡¶® (Geo), ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏ (Mobile/Desktop) ‡¶¨‡¶æ ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞ ‡¶ö‡ßá‡¶®‡¶æ ‡¶Ø‡¶æ‡ßü‡•§ ‡¶è‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡¶¶‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ü‡¶≤‡¶æ‡¶¶‡¶æ ‡¶≤‡ßá‡¶Ü‡¶â‡¶ü ‡¶¨‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶¨‡ßç‡¶≤‡¶ï ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®‡•§

‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡ßá‡¶∞ ‡¶¶‡ßá‡¶∂ ‡¶¨‡¶æ ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏‡ßá‡¶∞ ‡¶ì‡¶™‡¶∞ ‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø ‡¶ï‡¶∞‡ßá ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶∂‡¶® ‡¶®‡ßá‡¶ì‡ßü‡¶æ‡•§

```typescript
import { userAgent } from "next/server";

export function middleware(request: NextRequest) {
  const { device } = userAgent(request);
  const country = request.geo?.country;

  // ‡¶Ø‡¶¶‡¶ø ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶á‡¶®‡ßç‡¶°‡¶ø‡ßü‡¶æ ‡¶•‡ßá‡¶ï‡ßá ‡¶π‡ßü, ‡¶§‡¶æ‡¶ï‡ßá ‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶∏ ‡¶¨‡ßç‡¶≤‡¶ï ‡¶ï‡¶∞‡ßá ‡¶¶‡ßá‡¶ì‡ßü‡¶æ
  if (country === "IN") {
    return new NextResponse("Service not available in your country", {
      status: 403,
    });
  }

  // ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶π‡¶≤‡ßá ‡¶Ü‡¶≤‡¶æ‡¶¶‡¶æ ‡¶™‡¶æ‡¶•‡ßá ‡¶∞‡¶ø‡¶∞‡¶æ‡¶á‡¶ü ‡¶ï‡¶∞‡¶æ
  if (device.type === "mobile") {
    return NextResponse.rewrite(new URL("/mobile-version", request.url));
  }
}
```

### üîü Direct Response ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ (Edge Response)

‡¶Æ‡¶æ‡¶ù‡ßá ‡¶Æ‡¶æ‡¶ù‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßá‡¶ú ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ‡¶∞‡¶á ‡¶¶‡¶∞‡¶ï‡¶æ‡¶∞ ‡¶π‡ßü ‡¶®‡¶æ‡•§ ‡¶Ø‡ßá‡¶Æ‡¶®: ‡¶∏‡¶æ‡¶á‡¶ü ‡¶Ø‡¶¶‡¶ø ‡¶Æ‡ßá‡¶á‡¶®‡¶ü‡ßá‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶∏‡ßá ‡¶•‡¶æ‡¶ï‡ßá, ‡¶§‡¶¨‡ßá Middleware ‡¶•‡ßá‡¶ï‡ßá‡¶á ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£ "Site under maintenance" ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶¨‡¶æ HTML ‡¶∞‡ßá‡¶∏‡¶™‡¶®‡ßç‡¶∏ ‡¶™‡¶æ‡¶†‡¶ø‡ßü‡ßá ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡•§

‡¶ï‡ßã‡¶®‡ßã ‡¶™‡ßá‡¶ú ‡¶∞‡ßá‡¶®‡ßç‡¶°‡¶æ‡¶∞ ‡¶®‡¶æ ‡¶ï‡¶∞‡ßá ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶¨‡¶æ JSON ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã‡•§

```typescript
export function middleware(request: NextRequest) {
  const isMaintenance = process.env.MAINTENANCE_MODE === "true";

  if (isMaintenance) {
    return new NextResponse(
      JSON.stringify({
        message: "Site is under maintenance. Come back later!",
      }),
      { status: 503, headers: { "content-type": "application/json" } },
    );
  }
}
```

### 1Ô∏è‚É£1Ô∏è‚É£ Cookie Read ‡¶ï‡¶∞‡¶æ

Middleware ‡¶ñ‡ßÅ‡¶¨ ‡¶∏‡¶π‡¶ú‡ßá‡¶á ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡ßá‡¶∞ ‡¶ï‡ßÅ‡¶ï‡¶ø ‡¶™‡ßú‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§ ‡¶è‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá‡¶á ‡¶Æ‡ßÇ‡¶≤‡¶§ ‡¶≤‡¶ó‡¶á‡¶® ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ ‡¶¨‡¶æ ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶ø‡¶´‡¶æ‡¶∞‡ßá‡¶®‡ßç‡¶∏ ‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡•§ ‡¶§‡¶¨‡ßá ‡¶∏‡¶ø‡¶ï‡¶ø‡¶â‡¶∞‡¶ø‡¶ü‡¶ø‡¶∞ ‡¶ï‡¶æ‡¶∞‡¶£‡ßá ‡¶è‡¶ñ‡¶æ‡¶® ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶ï‡ßÅ‡¶ï‡¶ø 'Write' ‡¶ï‡¶∞‡¶æ ‡¶ï‡¶ø‡¶õ‡ßÅ‡¶ü‡¶æ ‡¶∏‡ßÄ‡¶Æ‡¶ø‡¶§‡•§

‡¶ï‡ßÅ‡¶ï‡¶ø ‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡ßÅ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßá ‡¶°‡¶ø‡¶∏‡¶ø‡¶∂‡¶® ‡¶®‡ßá‡¶ì‡ßü‡¶æ‡•§

```typescript
export function middleware(request: NextRequest) {
  // ‡¶ï‡ßÅ‡¶ï‡¶ø ‡¶∞‡¶ø‡¶° ‡¶ï‡¶∞‡¶æ
  const theme = request.cookies.get("theme")?.value || "light";

  console.log("User theme preference:", theme);

  if (theme === "dark") {
    // ‡¶°‡¶æ‡¶∞‡ßç‡¶ï ‡¶Æ‡ßã‡¶° ‡¶∏‡ßç‡¶™‡ßá‡¶∏‡¶ø‡¶´‡¶ø‡¶ï ‡¶ï‡ßã‡¶®‡ßã ‡¶≤‡¶ú‡¶ø‡¶ï
  }
}
```

### 1Ô∏è‚É£2Ô∏è‚É£ Central Traffic Control

‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßÅ‡¶∞‡ßã ‡¶ì‡ßü‡ßá‡¶¨‡¶∏‡¶æ‡¶á‡¶ü‡ßá‡¶∞ ‡¶ü‡ßç‡¶∞‡¶æ‡¶´‡¶ø‡¶ï ‡¶ï‡ßã‡¶® ‡¶¶‡¶ø‡¶ï ‡¶¶‡¶ø‡ßü‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá, ‡¶ï‡ßã‡¶•‡¶æ‡ßü ‡¶•‡¶æ‡¶Æ‡¶¨‡ßá ‡¶¨‡¶æ ‡¶ï‡ßã‡¶•‡¶æ‡ßü ‡¶ò‡ßÅ‡¶∞‡¶¨‡ßá‚Äî‡¶∏‡¶¨‡¶ï‡¶ø‡¶õ‡ßÅ‡¶∞ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∏‡ßá‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶æ‡¶≤ ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤ ‡¶∞‡ßÅ‡¶Æ ‡¶π‡¶≤‡ßã ‡¶è‡¶á Middleware‡•§

### 1Ô∏è‚É£3Ô∏è‚É£ Edge Runtime (Fast)

Middleware ‡¶ö‡¶≤‡ßá **Edge Runtime**-‡¶è‡•§ ‡¶è‡¶ü‡¶ø ‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£ ‡¶®‡ßã‡¶° ‡¶ú‡ßá‡¶è‡¶∏ ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞‡ßá‡¶∞ ‡¶Æ‡¶§‡ßã ‡¶≠‡¶æ‡¶∞‡ßÄ ‡¶®‡ßü, ‡¶¨‡¶∞‡¶Ç ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡ßá‡¶∞ ‡¶∏‡¶¨‡¶ö‡ßá‡ßü‡ßá ‡¶ï‡¶æ‡¶õ‡ßá‡¶∞ ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ (CDN) ‡¶•‡ßá‡¶ï‡ßá ‡¶∞‡¶æ‡¶® ‡¶π‡ßü‡•§ ‡¶´‡¶≤‡ßá ‡¶è‡¶ü‡¶ø ‡¶Ö‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶Ø ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá‡•§

### 1Ô∏è‚É£4Ô∏è‚É£ Single Entry Point Architecture

‡¶™‡ßÅ‡¶∞‡ßã ‡¶™‡ßç‡¶∞‡¶ú‡ßá‡¶ï‡ßç‡¶ü‡ßá ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶è‡¶ï‡¶ü‡¶ø `middleware.ts` ‡¶´‡¶æ‡¶á‡¶≤ ‡¶•‡¶æ‡¶ï‡ßá‡•§ ‡¶è‡¶§‡ßá ‡¶ï‡¶∞‡ßá ‡¶ï‡ßã‡¶° ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú ‡¶ï‡¶∞‡¶æ ‡¶∏‡¶π‡¶ú ‡¶π‡ßü‡•§ ‡¶°‡ßá‡¶≠‡ßá‡¶≤‡¶™‡¶æ‡¶∞ ‡¶è‡¶ï ‡¶ú‡¶æ‡ßü‡¶ó‡¶æ‡ßü ‡¶§‡¶æ‡¶ï‡¶æ‡¶≤‡ßá‡¶á ‡¶¨‡ßÅ‡¶ù‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá ‡¶™‡ßÅ‡¶∞‡ßã ‡¶∏‡¶æ‡¶á‡¶ü‡ßá‡¶∞ ‡¶∞‡¶æ‡¶â‡¶ü‡¶ø‡¶Ç ‡¶≤‡¶ú‡¶ø‡¶ï ‡¶ï‡ßÄ‡¶≠‡¶æ‡¶¨‡ßá ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡¶õ‡ßá‡•§

‡¶è‡¶á ‡¶§‡¶ø‡¶®‡¶ü‡¶ø ‡¶™‡ßü‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡ßÇ‡¶≤‡¶§ ‡¶Ü‡¶∞‡ßç‡¶ï‡¶ø‡¶ü‡ßá‡¶ï‡¶ö‡¶æ‡¶∞‡¶æ‡¶≤‡•§ ‡¶è‡¶∞ ‡¶ï‡ßã‡¶° ‡¶Ü‡¶≤‡¶æ‡¶¶‡¶æ ‡¶π‡ßü ‡¶®‡¶æ, ‡¶¨‡¶∞‡¶Ç ‡¶™‡ßÅ‡¶∞‡ßã `middleware.ts` ‡¶´‡¶æ‡¶á‡¶≤‡¶ü‡¶ø‡¶á ‡¶è‡¶∞ ‡¶™‡ßç‡¶∞‡¶Æ‡¶æ‡¶£‡•§

- **Edge Runtime (13):** ‡¶è‡¶ü‡¶ø ‡¶ï‡ßã‡¶®‡ßã ‡¶Ü‡¶≤‡¶æ‡¶¶‡¶æ ‡¶ï‡ßã‡¶° ‡¶®‡ßü, ‡¶¨‡¶∞‡¶Ç `middleware.ts` ‡¶´‡¶æ‡¶á‡¶≤‡¶ü‡¶ø ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü‡¶≠‡¶æ‡¶¨‡ßá ‡¶è‡¶á ‡¶π‡¶æ‡¶≤‡¶ï‡¶æ ‡¶è‡¶¨‡¶Ç ‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞ ‡¶´‡¶æ‡¶∏‡ßç‡¶ü ‡¶è‡¶®‡¶≠‡¶æ‡¶Ø‡¶º‡¶∞‡¶®‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá ‡¶ö‡¶≤‡ßá‡•§
- **Central Traffic Control (12) & Single Entry (14):** ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶Æ‡¶§‡ßã ‡¶è‡¶ï‡¶ü‡¶ø ‡¶´‡¶æ‡¶á‡¶≤‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶∏‡¶¨ ‡¶≤‡¶ú‡¶ø‡¶ï ‡¶è‡¶ï‡ßÄ‡¶≠‡ßÇ‡¶§ ‡¶ï‡¶∞‡ßá‡¶®:

```typescript
// middleware.ts - ‡¶è‡¶ü‡¶æ‡¶á ‡¶∏‡ßá‡¶á Single Entry Point
export function middleware(request: NextRequest) {
  // ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶∏‡¶¨ ‡¶ü‡ßç‡¶∞‡¶æ‡¶´‡¶ø‡¶ï ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤ ‡¶≤‡¶ú‡¶ø‡¶ï ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá ‡¶•‡¶æ‡¶ï‡ßá
  if (isBot(request)) return blockBot(request);
  if (isMaintenance()) return showMaintenancePage();
  if (noAuth(request)) return redirectToLogin(request);

  return NextResponse.next();
}
```

---

### ‚ùå ‡¶Ø‡ßá ‡¶≠‡ßÅ‡¶≤‡¶ó‡ßÅ‡¶≤‡ßã ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá ‡¶®‡¶æ (Reminder):

‡ßß. **Database Call:** ‡¶Æ‡¶ø‡¶°‡¶≤‡¶ì‡ßü‡ßç‡¶Ø‡¶æ‡¶∞‡ßá ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø `Prisma` ‡¶¨‡¶æ `Mongoose` ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶¨‡ßá‡¶® ‡¶®‡¶æ‡•§
‡ß®. **Heavy Computation:** ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶™‡ßç‡¶∞‡¶∏‡ßá‡¶∏‡¶ø‡¶Ç ‡¶¨‡¶æ ‡¶¨‡ßú ‡¶≤‡ßÅ‡¶™ ‡¶ö‡¶æ‡¶≤‡¶æ‡¶®‡ßã ‡¶Ø‡¶æ‡¶¨‡ßá ‡¶®‡¶æ, ‡¶ï‡¶æ‡¶∞‡¶£ ‡¶è‡¶§‡ßá ‡¶™‡ßá‡¶ú ‡¶≤‡ßã‡¶° ‡¶ü‡¶æ‡¶á‡¶Æ ‡¶¨‡ßá‡ßú‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá‡•§

---

## ‚ùå Proxy/Middleware ‡¶Ø‡ßá‡¶∏‡¶¨ ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞ ‡¶®‡ßá‡¶á ‡¶¨‡¶æ ‡¶ï‡¶∞‡¶æ ‡¶â‡¶ö‡¶ø‡¶§ ‡¶®‡ßü

### ‚ùå Heavy Data Fetching

Middleware-‡¶è ‡¶¨‡ßú ‡¶ï‡ßã‡¶®‡ßã ‡¶°‡¶æ‡¶ü‡¶æ‡¶¨‡ßá‡¶∏ ‡¶ï‡ßã‡ßü‡ßá‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶â‡¶ö‡¶ø‡¶§ ‡¶®‡ßü‡•§ ‡¶ï‡¶æ‡¶∞‡¶£ ‡¶è‡¶ü‡¶ø ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü‡¶ï‡ßá ‡¶Ü‡¶ü‡¶ï‡ßá ‡¶∞‡¶æ‡¶ñ‡ßá‡•§ ‡¶Ø‡¶¶‡¶ø Middleware ‡¶∏‡ßç‡¶≤‡ßã ‡¶π‡ßü, ‡¶§‡¶¨‡ßá ‡¶™‡ßÅ‡¶∞‡ßã ‡¶ì‡ßü‡ßá‡¶¨‡¶∏‡¶æ‡¶á‡¶ü ‡¶∏‡ßç‡¶≤‡ßã ‡¶π‡ßü‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá‡•§

### ‚ùå Full Authentication System

‡¶≤‡¶ó‡¶á‡¶® ‡¶≤‡¶ú‡¶ø‡¶ï, ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶≠‡ßá‡¶∞‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶∂‡¶® ‡¶¨‡¶æ ‡¶∏‡ßá‡¶∂‡¶® ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶ú‡¶ó‡ßÅ‡¶≤‡ßã API Route ‡¶¨‡¶æ Server Actions-‡¶è ‡¶ï‡¶∞‡¶æ ‡¶â‡¶ö‡¶ø‡¶§‡•§ Middleware ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶¨‡ßá ‡¶∏‡ßá‡¶∂‡¶®‡¶ü‡¶ø ‡¶¨‡ßà‡¶ß ‡¶ï‡¶ø ‡¶®‡¶æ‡•§

### ‚ùå fetch cache / revalidate

Next.js-‡¶è‡¶∞ ‡¶°‡ßá‡¶ü‡¶æ ‡¶ï‡ßç‡¶Ø‡¶æ‡¶∂‡¶ø‡¶Ç ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞‡¶ó‡ßÅ‡¶≤‡ßã Middleware-‡¶è ‡¶ï‡¶æ‡¶ú ‡¶ï‡¶∞‡ßá ‡¶®‡¶æ‡•§ ‡¶è‡¶ü‡¶ø ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü ‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡ßç‡¶∏‡¶´‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø‡•§

### ‚ùå Stateful Logic

Middleware ‡¶π‡¶≤‡ßã 'Stateless'‡•§ ‡¶Ö‡¶∞‡ßç‡¶•‡¶æ‡ßé ‡¶è‡¶ü‡¶ø ‡¶Æ‡¶®‡ßá ‡¶∞‡¶æ‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá ‡¶®‡¶æ ‡¶Ü‡¶ó‡ßá ‡¶ï‡ßÄ ‡¶π‡ßü‡ßá‡¶õ‡¶ø‡¶≤‡•§ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü ‡¶§‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá ‡¶®‡¶§‡ßÅ‡¶®‡•§ ‡¶ï‡ßã‡¶®‡ßã ‡¶≤‡¶Ç-‡¶∞‡¶æ‡¶®‡¶ø‡¶Ç ‡¶Æ‡ßá‡¶Æ‡ßã‡¶∞‡¶ø ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶•‡¶æ‡¶ï‡ßá ‡¶®‡¶æ‡•§

---

## üß† ‡¶è‡¶ï ‡¶≤‡¶æ‡¶á‡¶®‡ßá ‡¶∏‡¶æ‡¶∞‡¶∏‡¶Ç‡¶ï‡ßç‡¶∑‡ßá‡¶™

**Middleware ‡¶π‡¶≤‡ßã ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶á‡¶ü‡ßá‡¶∞ ‡¶∏‡ßá‡¶á ‡¶¨‡ßÅ‡¶¶‡ßç‡¶ß‡¶ø‡¶Æ‡¶æ‡¶® ‡¶ó‡ßá‡¶ü‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®, ‡¶Ø‡ßá ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü ‡¶Ü‡¶∏‡¶æ‡¶∞ ‡¶™‡¶∞ ‡¶ö‡ßã‡¶ñ‡ßá‡¶∞ ‡¶™‡¶≤‡¶ï‡ßá ‡¶∏‡¶ø‡¶¶‡ßç‡¶ß‡¶æ‡¶®‡ßç‡¶§ ‡¶®‡ßá‡ßü ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡¶ï‡ßá ‡¶ï‡ßã‡¶•‡¶æ‡ßü ‡¶™‡¶æ‡¶†‡¶æ‡¶§‡ßá ‡¶π‡¶¨‡ßá ‡¶¨‡¶æ ‡¶ï‡ßÄ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶§‡ßá ‡¶π‡¶¨‡ßá, ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ ‡¶∏‡ßá ‡¶®‡¶ø‡¶ú‡ßá ‡¶ï‡ßã‡¶®‡ßã ‡¶≠‡¶æ‡¶∞‡ßÄ ‡¶¨‡ßã‡¶ù‡¶æ (Data) ‡¶¨‡¶π‡¶® ‡¶ï‡¶∞‡ßá ‡¶®‡¶æ‡•§**
